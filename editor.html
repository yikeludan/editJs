<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="editor.css">
</head>
<body>
   <div class="main">
       <div class="left">
           <div class="picIcon1 picIcon">
               <div index = "0" style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/8c6bd8f216175a894a9fa8ba4a99b0c8)" class="picImg1 picImg">
               </div>
           </div>

           <div class="picIcon2 picIcon">
               <div index = "1" style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/9c8b5387e9e9c56df3708e90b7e3d1be
)" class="picImg2 picImg">
               </div>
           </div>

           <div class="picIcon3 picIcon">
               <div index = "2" style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/fde59b669db6bb58d3fbff5773b02288)" class="picImg3 picImg">
               </div>
           </div>
           <div class="picIcon4 picIcon">
               <div index = "3" style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/0d8b39e1ac4459fe7121f4e92b924cd8)" class="picImg4 picImg">
               </div>
           </div>

       </div>
       <div class="leftSel">
           <div class="l l1">
               <div index = "0" class="leftSel_title ">
                   <div class="leftSel_title1">背景</div>
                   <div class="leftSel_title2">素材</div>
               </div>
               <div class="picBg picList">
                   <div index = 0 class="picBg1 onePic onePic1"></div>
                   <div index = 1 class="picBg2 onePic onePic2"></div>
                   <div index = 2 class="picBg3 onePic onePic3"></div>
               </div>
           </div>

           <div class="l l2">
               <div index = "1" class="leftSel_title l2">
                   <div class="leftSel_title1">文字</div>
                   <div class="leftSel_title2">字体</div>
               </div>
               <div class="picText picList l3">
                   <div class="picText1 picText0 ">添加标题</div>
                   <div class="picText2 picText0">添加副标题</div>
                   <div class="picText4 picText0">添加粗体</div>
                   <div class="picText5 picText0">添加斜体</div>
               </div>
           </div>


           <div class="l l3">
               <div index = "2" class="leftSel_title">
                   <div class="leftSel_clour">字体颜色</div>
               </div>
               <div class="pic_clour picList">
                   <div class="clour clour1"></div>
                   <div class="clour clour2"></div>
                   <div class="clour clour3"></div>
                   <div class="clour clour4"></div>
                   <div class="clour clour5"></div>
                   <div class="clour clour6"></div>
                   <div class="clour clour7"></div>
                   <div class="clour clour8"></div>
                   <div class="clour clour9"></div>
                   <div class="clour clour10"></div>
                   <div class="clour clour11"></div>
                   <div class="clour clour12"></div>
               </div>
           </div>

           <div class="l l4">
               <div index = "3" class="leftSel_title l2">
                   <div class="leftSel_title1">图形</div>
               </div>
               <div class="reactList picList">
                   <div class="rect">添加矩形</div>

               </div>
           </div>

       </div>
       <div class="editMain">
           <div class="ruleX">
           </div>
           <div class="ruleY">
               <div class="smallLineY"></div>

           </div>
       </div>
      <div class="rightSel">
           <div class="rIcon1 rIcon">
                <div style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/9b789d5a61e6a812f0b27e49b3319acc)" class="rIconImg1 rIconImg" index = "0"></div>
           </div>

           <div class="rIcon3 rIcon">
               <div style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/acec0ac7ead36ae16243e38ebd6081e6)" class="rIconImg3 rIconImg" index = "1"></div>
           </div>

           <div class="rIcon4 rIcon">
               <div style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/d180abfb1e957b8eec2cd45ddd0da168)" class="rIconImg4 rIconImg" index = "2"></div>
           </div>

           <div class="rIcon2 rIcon">
               <div style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/aad94b5df4c66aba3dd4f2d6788b4652)" class="rIconImg2 rIconImg" index = "3"></div>
           </div>
       </div>
       <div class="rightVal">
           <div numIndex="0" class="rightValTitle2 rightValTitle tuceng">
               <div class="rightValTitle1_2 rightValTitle1_0">图层</div>
           </div>
           <div index = "0" numIndex = "0" class="rightValContent2 rightValContent">
             <!-- <div class="box">
                   <div class="box1"></div>
                   <div class="box1_1" >图片1</div>
                   <div class="del"></div>
               </div>-->



           </div>

           <div class="rightValTitle3 rightValTitle">
               <div class="rightValTitle1_3 rightValTitle1_0">文字</div>

           </div>
           <div index = "1" class="rightValContent3 rightValContent">
               <div class="rightValContent3_1 mo">
                   <span class="rightValContent3_1_1">字号</span><input type="text" class="in3 Content3in0" value="1"/>
               </div>

               <div class="rightValContent3_2 mo">
                   <div class="rightValContent3_2_1">
                       对齐方式
                   </div>
                   <div class="rightValContent3_2_22">
                       <div class="left rightValContent3_2_2">左</div>
                       <div class="mid rightValContent3_2_2">中</div>
                       <div class="right rightValContent3_2_2">右</div>

                   </div>
               </div>

               <div class="rightValContent3_3 mo">
                   <div class="rightValContent3_3_1">
                       格式
                   </div>
                   <div class="rightValContent3_2_22">
                       <div class="chu rightValContent3_2_2">斜</div>
                       <div class="xie rightValContent3_2_2">粗</div>
                       <div class="hua rightValContent3_2_2">线</div>

                   </div>
               </div>
           </div>
           <div class="rightValTitle1 rightValTitle">
               <div class="rightValTitle1_1 rightValTitle1_0">图片</div>
           </div>
           <div index = "2" class="rightValContent4 rightValContent">
               <div class="rightValContent1_in1">
                   <span>高度</span><input type="text" class="in Content1in0" value="1"/>
               </div>

               <div class="rightValContent1_in1">
                   <span>宽度</span><input class="in Content1in1" type="text" value="1"/>
               </div>

               <div class="rightValContent1_in1">
                   <span>x距离</span><input class="in Content1in2" type="text" value="1"/>
               </div>

               <div class="rightValContent1_in1">
                   <span>y距离</span><input class="in Content1in3" type="text" value="1"/>
               </div>
               <div class="rightValContent1_in1">
                   <span>deg</span><input class="in Content1in4" type="text" value="1"/>
               </div>

           </div>
       </div>
   </div>
  <div class="YLine"></div>
   <div class="XLine"></div>
   <div class="lineBox">234</div>

   <div class="maskBlack"></div>
   <input type="text" class="boxInput">
   <div class="mask">
       <div class="mask1">
           <div class="mask_t1">设置</div>
           <div class="mask_t2">数据备份</div>
           <div class="mask_t3">快捷键</div>
           <div class="mask_t4">退出设置</div>

       </div>
       <div class="mask2">

       </div>
       <div class="mask3">

       </div>


       <div class="box boxTemp">
           <div class="box1" style="background: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/6be96e1726c383601009a581c7117ead) no-repeat center center;background-size: 50px 50px"></div>
           <div class="box1_1" >图片1</div>
           <div class="del" style="background-image: url(https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/d1867c766244b96af0e8bac40977d861)"></div>
       </div>

   </div>
</body>
</html>
<script src="left.js"></script>
<script src="right.js"></script>

<script src="editMain.js"></script>

<script src="boxController1.js"></script>
<script>
    let left = new Left();
    let right = new Right();
    let editMain = new EditMain();
    let boxController = new BoxController();


    let onePic1 = document.querySelector(".onePic1");
    let onePic2 = document.querySelector(".onePic2");
    let onePic3 = document.querySelector(".onePic3");
    let clours = document.querySelectorAll(".clour");
    let rect = document.querySelector(".rect");

    let picText1 = document.querySelector(".picText1");
    let picText2 = document.querySelector(".picText2");
    let picText4 = document.querySelector(".picText4");
    let picText5 = document.querySelector(".picText5");

   onePic1.addEventListener("click",()=>{
        let index = onePic1.getAttribute("index");
        boxController.createDiv(index,200,400,300,150,0,null,null,null,null);
    })
   onePic2.addEventListener("click",()=>{
       let index = onePic2.getAttribute("index");
       boxController.createDiv(index,200,400,300,150,0,null,null,null,null);
   })
   onePic3.addEventListener("click",()=>{
       let index = onePic3.getAttribute("index");
       boxController.createDiv(index,200,400,300,150,0,null,null,null,null);
   })
    rect.addEventListener("click",()=>{
        boxController.isCreateDiv = true;
        boxController.createRectditMask();
    })

  /* onePic3.addEventListener("click",()=>{
       console.log(1)
       boxController.isCreateLine = true;

   })*/
   picText1.addEventListener("click",()=>{
       boxController.createDiv(0,200,70,300,150,1,null,null,null,null,null);
   })

   picText2.addEventListener("click",()=>{
       boxController.createDiv(0,200,70,300,150,1,null,null,"20px",null,null);
   })
   picText4.addEventListener("click",()=>{
       boxController.createDiv(0,200,70,300,150,1,null,null,null,"bold",null);
   })
   picText5.addEventListener("click",()=>{
       boxController.createDiv(0,200,70,300,150,1,null,null,null,null,"italic");
   })


    for (let i = 0; i < clours.length; ++i) {
        clours[i].addEventListener('click', ()=> {
            let value = getStyle(clours[i], "background-color")
            let dom = boxController.boxList[boxController.selectIndx];
            boxController.changeTextColor(dom,value);
        });
    }

    function getStyle(elem, property){
        if(!elem || !property){
            return false;
        }
        var value = elem.style[camelize(property)], // 先获取是否有内联样式
            css; // 获取的所有计算样式
        // 无内联样式，则获取层叠样式表计算后的样式
        if(!value){
            if(document.defaultView && document.defaultView.getComputedStyle){
                css = document.defaultView.getComputedStyle(elem, null);
                value = css ? css.getPropertyValue(property) : null;
            }
        }
        return value;
    }
    // 字符串转换为驼峰写法
    function camelize(str) {
        return str.replace(/-(\w)/g, function (strMatch, p1){
            return p1.toUpperCase();
        });
    }
</script>

